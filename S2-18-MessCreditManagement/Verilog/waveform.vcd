$date
	Thu Oct 30 21:48:10 2025
$end
$version
	Icarus Verilog
$end
$timescale
	1ps
$end
$scope module testbench $end
$var wire 7 ! tens_display [6:0] $end
$var wire 7 " ones_display [6:0] $end
$var wire 3 # current_state [2:0] $end
$var wire 8 $ current_balance [7:0] $end
$var wire 1 % credit_ok $end
$var reg 2 & action_type [1:0] $end
$var reg 1 ' clk $end
$var reg 1 ( meal_request $end
$var reg 1 ) rst_n $end
$var reg 1 * user_select $end
$scope module uut $end
$var wire 2 + action_type [1:0] $end
$var wire 1 ' clk $end
$var wire 1 , load_enable $end
$var wire 1 ( meal_request $end
$var wire 1 ) rst_n $end
$var wire 1 * user_select $end
$var wire 1 - timer_done $end
$var wire 7 . tens_display [6:0] $end
$var wire 8 / state_outputs [7:0] $end
$var wire 7 0 ones_display [6:0] $end
$var wire 8 1 new_balance [7:0] $end
$var wire 3 2 current_state [2:0] $end
$var wire 8 3 current_balance [7:0] $end
$var wire 1 % credit_ok $end
$scope module alu $end
$var wire 2 4 action_type [1:0] $end
$var wire 1 5 bypass_check $end
$var wire 8 6 cost_complement [7:0] $end
$var wire 1 % credit_ok $end
$var wire 8 7 selected_cost [7:0] $end
$var wire 8 8 new_balance [7:0] $end
$var wire 1 9 carry_in $end
$var wire 1 : balance_ge_cost $end
$var wire 8 ; balance [7:0] $end
$var wire 8 < adder_b_input [7:0] $end
$var wire 1 = add_sub_ctrl $end
$upscope $end
$scope module display $end
$var wire 7 > tens_display [6:0] $end
$var wire 4 ? tens_bcd [3:0] $end
$var wire 7 @ ones_display [6:0] $end
$var wire 4 A ones_bcd [3:0] $end
$var wire 8 B balance [7:0] $end
$scope module bcd_conv $end
$var wire 4 C tens [3:0] $end
$var wire 4 D ones [3:0] $end
$var wire 8 E binary [7:0] $end
$upscope $end
$scope module ones_decoder $end
$var wire 4 F bcd [3:0] $end
$var wire 7 G segments [6:0] $end
$upscope $end
$scope module tens_decoder $end
$var wire 4 H bcd [3:0] $end
$var wire 7 I segments [6:0] $end
$upscope $end
$upscope $end
$scope module fsm $end
$var wire 1 ' clk $end
$var wire 1 ( meal_request $end
$var wire 1 ) rst_n $end
$var wire 1 * user_select $end
$var parameter 3 J AUTH $end
$var parameter 4 K AUTH_THRESHOLD $end
$var parameter 3 L IDLE $end
$var parameter 3 M RECOMMEND $end
$var parameter 3 N TRANSACTION $end
$var parameter 3 O UPDATE $end
$var reg 4 P auth_counter [3:0] $end
$var reg 3 Q current_state [2:0] $end
$var reg 3 R next_state [2:0] $end
$var reg 8 S state_outputs [7:0] $end
$var reg 1 - timer_done $end
$upscope $end
$scope module register $end
$var wire 1 ' clk $end
$var wire 8 T data_in [7:0] $end
$var wire 1 , load_enable $end
$var wire 1 ) rst_n $end
$var reg 8 U data_out [7:0] $end
$upscope $end
$upscope $end
$scope task display_alu_truth_table $end
$var reg 2 V act_test [1:0] $end
$var reg 8 W bal_test [7:0] $end
$var reg 1 X credit_test $end
$var reg 8 Y new_bal_test [7:0] $end
$upscope $end
$scope task display_bcd_truth_table $end
$var reg 4 Z bcd_test [3:0] $end
$var reg 7 [ seg_test [6:0] $end
$var integer 32 \ i [31:0] $end
$upscope $end
$scope task display_fsm_state_table $end
$upscope $end
$scope task display_full_adder_truth_table $end
$var reg 1 ] a_test $end
$var reg 1 ^ b_test $end
$var reg 1 _ cin_test $end
$var reg 1 ` cout_test $end
$var reg 1 a sum_test $end
$var integer 32 b i [31:0] $end
$upscope $end
$upscope $end
$enddefinitions $end
$comment Show the parameter values. $end
$dumpall
b100 O
b11 N
b10 M
b0 L
b1010 K
b1 J
$end
#0
$dumpvars
b1000 b
1a
1`
1_
1^
1]
b1010 \
b1101111 [
b1001 Z
b11100010 Y
0X
b110010 W
b10 V
b11111111 U
b10110110 T
b1 S
b0 R
b0 Q
b0 P
b1101111 I
b1001 H
b1101101 G
b101 F
b11111111 E
b101 D
b1001 C
b11111111 B
b101 A
b1101101 @
b1001 ?
b1101111 >
0=
b10110110 <
b11111111 ;
1:
19
b10110110 8
b1001001 7
b10110110 6
05
b0 4
b11111111 3
b0 2
b10110110 1
b1101101 0
b1 /
b1101111 .
0-
0,
b0 +
0*
0)
0(
0'
b0 &
1%
b11111111 $
b0 #
b1101101 "
b1101111 !
$end
#5000
1'
#10000
0'
#15000
1'
1)
#20000
0'
#25000
1'
#30000
0'
#35000
b10 /
b10 S
b1 #
b1 2
b1 Q
b1 R
1'
1(
#40000
0'
#45000
b1 P
1'
0(
#50000
0'
#55000
b10 P
1'
#60000
0'
#65000
b11 P
1'
#70000
0'
#75000
b100 P
1'
#80000
0'
#85000
b101 P
1'
#90000
0'
#95000
b110 P
1'
#100000
0'
#105000
b111 P
1'
#110000
0'
#115000
b1000 P
1'
#120000
0'
#125000
b1001 P
1'
#130000
0'
#135000
b10 R
1-
b1010 P
1'
#140000
0'
#145000
b100 /
b100 S
b10 #
b10 2
b10 Q
1'
#150000
0'
#155000
0-
b0 P
1'
#160000
0'
#165000
b1000 /
b1000 S
b11 #
b11 2
b11 Q
b11 R
1'
1*
#170000
0'
#175000
b1 P
1'
0*
#180000
0'
#185000
b10 P
1'
#190000
0'
#195000
b11 P
1'
#200000
0'
#205000
b100 P
1'
#210000
0'
#215000
b101 P
1'
#220000
0'
#225000
b110 P
1'
#230000
0'
#235000
b111 P
1'
#240000
0'
#245000
b1000 P
1'
#250000
0'
#255000
b1001 P
1'
#260000
0'
#265000
b100 R
1-
b1010 P
1'
#270000
0'
#275000
1,
b10000 /
b10000 S
b0 R
b100 #
b100 2
b100 Q
1'
#280000
0'
#285000
b1011011 "
b1011011 0
b1011011 @
b1011011 G
b1011011 !
b1011011 .
b1011011 >
b1011011 I
0,
b10 A
b10 D
b10 F
b10 ?
b10 C
b10 H
b1 /
b1 S
0-
b1101101 1
b1101101 8
b1101101 T
b10110110 $
b10110110 3
b10110110 ;
b10110110 B
b10110110 E
b10110110 U
b0 P
b0 #
b0 2
b0 Q
1'
#290000
0'
#295000
1'
#300000
0'
#305000
1'
#310000
0'
#315000
1'
#320000
0'
#325000
1'
#330000
0'
#335000
1'
#340000
0'
#345000
b10 /
b10 S
b1 #
b1 2
b1 Q
b1001001 <
b11111111 1
b11111111 8
b11111111 T
09
15
1=
b1 R
1'
b1 &
b1 +
b1 4
1(
#350000
0'
#355000
b1 P
1'
0(
#360000
0'
#365000
b10 P
1'
#370000
0'
#375000
b11 P
1'
#380000
0'
#385000
b100 P
1'
#390000
0'
#395000
b101 P
1'
#400000
0'
#405000
b110 P
1'
#410000
0'
#415000
b111 P
1'
#420000
0'
#425000
b1000 P
1'
#430000
0'
#435000
b1001 P
1'
#440000
0'
#445000
b10 R
1-
b1010 P
1'
#450000
0'
#455000
b100 /
b100 S
b10 #
b10 2
b10 Q
1'
#460000
0'
#465000
0-
b0 P
1'
#470000
0'
#475000
b1000 /
b1000 S
b11 #
b11 2
b11 Q
b11 R
1'
1*
#480000
0'
#485000
b1 P
1'
0*
#490000
0'
#495000
b10 P
1'
#500000
0'
#505000
b11 P
1'
#510000
0'
#515000
b100 P
1'
#520000
0'
#525000
b101 P
1'
#530000
0'
#535000
b110 P
1'
#540000
0'
#545000
b111 P
1'
#550000
0'
#555000
b1000 P
1'
#560000
0'
#565000
b1001 P
1'
#570000
0'
#575000
b100 R
1-
b1010 P
1'
#580000
0'
#585000
1,
b10000 /
b10000 S
b0 R
b100 #
b100 2
b100 Q
1'
#590000
0'
#595000
b1101101 "
b1101101 0
b1101101 @
b1101101 G
b1101111 !
b1101111 .
b1101111 >
b1101111 I
0,
b1 /
b1 S
0-
b101 A
b101 D
b101 F
b1001 ?
b1001 C
b1001 H
b0 P
b0 #
b0 2
b0 Q
b1001000 1
b1001000 8
b1001000 T
b11111111 $
b11111111 3
b11111111 ;
b11111111 B
b11111111 E
b11111111 U
1'
#600000
0'
#605000
1'
#610000
0'
#615000
1'
#620000
0'
#625000
1'
#630000
0'
#635000
1'
#640000
0'
#645000
1'
#650000
0'
#655000
b10 /
b10 S
b1 #
b1 2
b1 Q
b10101111 6
b10101111 <
b10101111 1
b10101111 8
b10101111 T
19
b1010000 7
05
0=
b1 R
1'
b10 &
b10 +
b10 4
1(
#660000
0'
#665000
b1 P
1'
0(
#670000
0'
#675000
b10 P
1'
#680000
0'
#685000
b11 P
1'
#690000
0'
#695000
b100 P
1'
#700000
0'
#705000
b101 P
1'
#710000
0'
#715000
b110 P
1'
#720000
0'
#725000
b111 P
1'
#730000
0'
#735000
b1000 P
1'
#740000
0'
#745000
b1001 P
1'
#750000
0'
#755000
b10 R
1-
b1010 P
1'
#760000
0'
#765000
b100 /
b100 S
b10 #
b10 2
b10 Q
1'
#770000
0'
#775000
0-
b0 P
1'
#780000
0'
#785000
b1000 /
b1000 S
b11 #
b11 2
b11 Q
b11 R
1'
1*
#790000
0'
#795000
b1 P
1'
0*
#800000
0'
#805000
b10 P
1'
#810000
0'
#815000
b11 P
1'
#820000
0'
#825000
b100 P
1'
#830000
0'
#835000
b101 P
1'
#840000
0'
#845000
b110 P
1'
#850000
0'
#855000
b111 P
1'
#860000
0'
#865000
b1000 P
1'
#870000
0'
#875000
b1001 P
1'
#880000
0'
#885000
b100 R
1-
b1010 P
1'
#890000
0'
#895000
1,
b10000 /
b10000 S
b0 R
b100 #
b100 2
b100 Q
1'
#900000
0'
#905000
b110 !
b110 .
b110 >
b110 I
0,
b1 ?
b1 C
b1 H
b1 /
b1 S
0-
b1011111 1
b1011111 8
b1011111 T
b10101111 $
b10101111 3
b10101111 ;
b10101111 B
b10101111 E
b10101111 U
b0 P
b0 #
b0 2
b0 Q
1'
#910000
0'
#915000
1'
#920000
0'
#925000
1'
#930000
0'
#935000
1'
#940000
0'
#945000
1'
#950000
0'
#955000
1'
#960000
0'
#965000
b10 /
b10 S
b1 #
b1 2
b1 Q
b1 R
1'
1(
#970000
0'
#975000
b1 P
1'
0(
#980000
0'
#985000
b10 P
1'
#990000
0'
#995000
b11 P
1'
#1000000
0'
#1005000
b100 P
1'
#1010000
0'
#1015000
b101 P
1'
#1020000
0'
#1025000
b110 P
1'
#1030000
0'
#1035000
b111 P
1'
#1040000
0'
#1045000
b1000 P
1'
#1050000
0'
#1055000
b1001 P
1'
#1060000
0'
#1065000
b10 R
1-
b1010 P
1'
#1070000
0'
#1075000
b100 /
b100 S
b10 #
b10 2
b10 Q
1'
#1080000
0'
#1085000
0-
b0 P
1'
#1090000
0'
#1095000
b1000 /
b1000 S
b11 #
b11 2
b11 Q
b11 R
1'
1*
#1100000
0'
#1105000
b1 P
1'
0*
#1110000
0'
#1115000
b10 P
1'
#1120000
0'
#1125000
b11 P
1'
#1130000
0'
#1135000
b100 P
1'
#1140000
0'
#1145000
b101 P
1'
#1150000
0'
#1155000
b110 P
1'
#1160000
0'
#1165000
b111 P
1'
#1170000
0'
#1175000
b1000 P
1'
#1180000
0'
#1185000
b1001 P
1'
#1190000
0'
#1195000
b100 R
1-
b1010 P
1'
#1200000
0'
#1205000
1,
b10000 /
b10000 S
b0 R
b100 #
b100 2
b100 Q
1'
#1210000
0'
#1215000
0,
b1101111 !
b1101111 .
b1101111 >
b1101111 I
b1 /
b1 S
0-
b1001 ?
b1001 C
b1001 H
b0 P
b0 #
b0 2
b0 Q
b1111 1
b1111 8
b1111 T
b1011111 $
b1011111 3
b1011111 ;
b1011111 B
b1011111 E
b1011111 U
1'
#1220000
0'
#1225000
1'
#1230000
0'
#1235000
1'
#1240000
0'
#1245000
1'
#1250000
0'
#1255000
1'
#1260000
0'
#1265000
1'
#1270000
0'
#1275000
b10 /
b10 S
b1 #
b1 2
b1 Q
b1 R
1'
1(
#1280000
0'
#1285000
b1 P
1'
0(
#1290000
0'
#1295000
b10 P
1'
#1300000
0'
#1305000
b11 P
1'
#1310000
0'
#1315000
b100 P
1'
#1320000
0'
#1325000
b101 P
1'
#1330000
0'
#1335000
b110 P
1'
#1340000
0'
#1345000
b111 P
1'
#1350000
0'
#1355000
b1000 P
1'
#1360000
0'
#1365000
b1001 P
1'
#1370000
0'
#1375000
b10 R
1-
b1010 P
1'
#1380000
0'
#1385000
b100 /
b100 S
b10 #
b10 2
b10 Q
1'
#1390000
0'
#1395000
0-
b0 P
1'
#1400000
0'
#1405000
b1000 /
b1000 S
b11 #
b11 2
b11 Q
b11 R
1'
1*
#1410000
0'
#1415000
b1 P
1'
0*
#1420000
0'
#1425000
b10 P
1'
#1430000
0'
#1435000
b11 P
1'
#1440000
0'
#1445000
b100 P
1'
#1450000
0'
#1455000
b101 P
1'
#1460000
0'
#1465000
b110 P
1'
#1470000
0'
#1475000
b111 P
1'
#1480000
0'
#1485000
b1000 P
1'
#1490000
0'
#1495000
b1001 P
1'
#1500000
0'
#1505000
b100 R
1-
b1010 P
1'
#1510000
0'
#1515000
1,
b10000 /
b10000 S
b0 R
b100 #
b100 2
b100 Q
1'
#1520000
0'
#1525000
b110 !
b110 .
b110 >
b110 I
0,
b1 ?
b1 C
b1 H
0%
b1 /
b1 S
0-
0:
b10111111 1
b10111111 8
b10111111 T
b1111 $
b1111 3
b1111 ;
b1111 B
b1111 E
b1111 U
b0 P
b0 #
b0 2
b0 Q
1'
#1530000
0'
#1535000
1'
#1540000
0'
#1545000
1'
#1550000
0'
#1555000
1'
#1560000
0'
#1565000
1'
#1570000
0'
#1575000
1'
#1580000
0'
#1585000
b10 /
b10 S
b1 #
b1 2
b1 Q
b1 R
1'
1(
#1590000
0'
#1595000
b1 P
1'
0(
#1600000
0'
#1605000
b10 P
1'
#1610000
0'
#1615000
b11 P
1'
#1620000
0'
#1625000
b100 P
1'
#1630000
0'
#1635000
b101 P
1'
#1640000
0'
#1645000
b110 P
1'
#1650000
0'
#1655000
b111 P
1'
#1660000
0'
#1665000
b1000 P
1'
#1670000
0'
#1675000
b1001 P
1'
#1680000
0'
#1685000
b10 R
1-
b1010 P
1'
#1690000
0'
#1695000
b100 /
b100 S
b10 #
b10 2
b10 Q
1'
#1700000
0'
#1705000
0-
b0 P
1'
#1710000
0'
#1715000
b1000 /
b1000 S
b11 #
b11 2
b11 Q
b11 R
1'
1*
#1720000
0'
#1725000
b1 P
1'
0*
#1730000
0'
#1735000
b10 P
1'
#1740000
0'
#1745000
b11 P
1'
#1750000
0'
#1755000
b100 P
1'
#1760000
0'
#1765000
b101 P
1'
#1770000
0'
#1775000
b110 P
1'
#1780000
0'
#1785000
b111 P
1'
#1790000
0'
#1795000
b1000 P
1'
#1800000
0'
#1805000
b1001 P
1'
#1810000
0'
#1815000
b100 R
1-
b1010 P
1'
#1820000
0'
#1825000
b10000 /
b10000 S
b0 R
b100 #
b100 2
b100 Q
1'
#1830000
0'
#1835000
b1 /
b1 S
0-
b0 P
b0 #
b0 2
b0 Q
1'
#1840000
0'
#1845000
1'
#1850000
0'
#1855000
1'
#1860000
0'
#1865000
1'
#1870000
0'
#1875000
1'
#1880000
0'
#1885000
1'
#1890000
0'
#1895000
1'
#1900000
0'
#1905000
1'
#1910000
0'
#1915000
1'
#1920000
0'
#1925000
1'
#1930000
0'
#1935000
1'
#1940000
0'
#1945000
1'
#1950000
0'
#1955000
1'
#1960000
0'
#1965000
1'
#1970000
0'
#1975000
1'
